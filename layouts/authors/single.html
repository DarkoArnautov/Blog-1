{{ partial "head" . }}

{{if ne .Site.Params.singleViewStyle "casper"}}<body class="ctsingle">
{{else}}<body class="post-template">{{end}}
  <div class="site-wrapper"> 

{{ partial "header-author" . }}

<main id="site-main" class="site-main outer" role="main" style="">
  <div class="inner">
    {{ $authorName := .File.BaseFileName  }}
    <div class="author-posts">
    {{ range $index, $element := (where .Site.Pages "Type" "post") }}
       {{ if eq $element.Params.author $authorName }}
          <div class="post-card">
            <a class="post-card-image-link" href="{{ .Permalink }}">
              <div class="post-card-image" style="background-image: url({{.Params.image | absURL}})"></div>
            </a>
          </div>
        
       {{ end }}
    {{ end }}
    </div>
    {{ partial "disqus" . }}
  </div>
</main>

{{if eq .Site.Params.singleViewStyle "casper"}}
<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      {{ partial "readnext-random-sori" . }}
      {{with .NextInSection}}
      {{ partial "readnext-article-sori" . }}
      {{end}}
      {{with .PrevInSection}}
      {{ partial "readnext-article-sori" . }}
      {{end}}
    </div>
  </div>
</aside>

{{ partial "header-floating-sori" . }}
{{end}}

{{ partial "footer" . }}
</div>
{{ partial "js" . }}
{{if eq .Site.Params.singleViewStyle "casper"}}{{ partial "js-sori" . }}{{end}}
</body></html>
